<!DOCTYPE html>
<html>
<head>
    <title>Registration Form</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script>
        function register() {
            var login = document.getElementById("login").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            // Create a JSON object with the form data
            var request = {
                "login": login,
                "email": email,
                "password": password
            };

            // Send the JSON data to the /register endpoint
            $.ajax({
                type: "POST",
                url: "/api/v1/auth/register",
                data: JSON.stringify(request),
                contentType: "application/json",
                dataType: "json",
                // window:location.href = "/api/v1/auth/check",
                // Update to relative URL
                success: function(data) {
                    // Handle success response
                    console.log("Registration successful:", data);
                    alert("Registration successful!");
                    // Redirect to /check page
                    window.location.href = "/api/v1/auth/check"; // Update to relative URL
                },
                error: function(xhr, status, error) {
                    // Handle error response
                    console.log("Registration failed:", xhr.responseText);
                    alert("Registration failed. Please try again.");
                }
            });
        }
    </script>
</head>
<body>
<h1>Registration Form</h1>
<form>
    <label for="login">Login:</label>
    <input type="text" id="login" name="login"><br>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email"><br>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password"><br>
    <button type="button" onclick="register()">Register</button>
</form>
</body>
</html>
